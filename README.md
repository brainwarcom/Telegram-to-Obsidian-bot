# Telegram-to-Obsidian-bot
Мгновенно сохраняйте сообщения, медиафайлы, голосовые заметки и идеи из Telegram прямо в ваш vault Obsidian. Используйте Telegram как свой личный, организованный inbox для заметок!

## Основные возможности

Плагин **Telegram to Obsidian** превращает ваш Telegram-бот в мощный инструмент для быстрого захвата информации, гарантируя, что ни одна важная мысль не будет потеряна.

*   **Автоматическая Синхронизация:** Мгновенный перенос сообщений через Telegram Bot API (polling) в режиме реального времени.
*   **Гибкая Организация:** Используйте команды `/command` (напр., `/work`, `/ideas`) для автоматического направления заметок в конкретные папки в вашем хранилище.
*   **Полная Поддержка Медиа:** Сохраняет **фото, видео, документы, аудио** и **стикеры** с автоматическим скачиванием и встраиванием ссылок в заметки.
*   **Обработка Ответов:** Группировка ответов вместе с основным сообщением для сохранения контекста беседы в одной заметке.
*   **Структура по Датам:** Автоматическое создание папок `YYYY/MM/DD` для неклассифицированных заметок.
*   **Визуальный Статус:** Мгновенная обратная связь от бота с помощью реакций (при получении, при синхронизации, при ошибке).
*   **Расширенное Логирование:** Подробные логи (`Telegram_Logs.md`) и инструменты диагностики для легкого устранения проблем.

## Установка и Настройка

### 1. Установка плагина

1.  В Obsidian перейдите в **Настройки** → **Сообщество плагинов** (Community plugins).
2.  Отключите **Безопасный режим** (Safe mode).
3.  Нажмите **Просмотр** (Browse) и найдите **Telegram to Obsidian**.
4.  Установите плагин и включите его.

### 2. Создание Telegram-бота

Для работы плагина необходим токен бота:

1.  Откройте Telegram и найдите [@BotFather](https://t.me/BotFather).
2.  Отправьте команду `/newbot`.
3.  Следуйте инструкциям: укажите имя и username для вашего бота.
4.  **Скопируйте полученный HTTP API токен.**

### 3. Настройка в Obsidian

1.  Откройте **Настройки плагина** для *Telegram to Obsidian*.
2.  В поле **Telegram Bot Token** вставьте скопированный токен.
3.  В поле **Папка по умолчанию** укажите базовую папку (например: `tto` или `notes/telegram`).
4.  Нажмите **Проверить** рядом с "Тест подключения". Вы должны увидеть имя вашего бота.

**После настройки токена плагин автоматически запустит синхронизацию.**

## Использование

Отправьте сообщение вашему боту в Telegram. Плагин автоматически синхронизирует его в Obsidian, используя одно из двух правил организации.

### 1. Быстрый захват (Папка по умолчанию)

Просто отправьте сообщение, фото, документ или голосовую заметку.

**Результат:** Заметка будет сохранена в папке: `Папка по умолчанию/YYYY/MM/DD/Имя_файла.md`

### 2. Организация с помощью команд

Используйте команды для мгновенной классификации заметок и направления их в конкретные папки.

#### Настройка команд (в настройках плагина)

| Команда | Папка назначения (Destination Folder) |
| :------ | :---------------------------------- |
| `work`  | `01_Projects/Tasks`                 |
| `ideas` | `Inbox/Ideas`                       |
| `diary` | `Journal/Personal`                  |

#### Использование команд (в Telegram)

1.  **Начните сообщение с команды:**
    ```
    /work Срочно проверить отчет до конца дня.
    ```
    Заметка сохранится в: `01_Projects/Tasks/Имя_файла.md`

2.  **Используйте команду в ответе:**
    Если вы отвечаете на сообщение в групповом чате, просто начните ответ с команды. Команда будет применена.

3.  **Просмотр команд:**
    Отправьте боту команду `/help`, чтобы увидеть все настроенные вами команды и папки.

### Работа с медиа и ответами

*   **Медиафайлы:** Все медиа (фото, видео, документы) скачиваются и сохраняются в папке `media` внутри вашей базовой папки. В заметку вставляется ссылка на файл.
*   **Ответы:** Ответы на *несинхронизированное* сообщение автоматически добавляются в ту же заметку, сохраняя структуру. Если вы отвечаете на *уже синхронизированное* сообщение, будет создана новая заметка со ссылкой на оригинал.

## Диагностика и Логирование

Если возникают проблемы с синхронизацией, вы можете использовать встроенные инструменты для диагностики:

1.  **Подробное Логирование:** В настройках плагина нажмите **Открыть логи**. Файл `Telegram_Logs.md` откроется с детальной информацией о каждой операции, сообщениях и ошибках.
2.  **Диагностика Бота:** В настройках нажмите **Диагностика** для проверки статуса: `OK (polling: true)` означает, что бот работает корректно.
3.  **Сброс Webhook (Ошибка 409 Conflict):** Если вы видите ошибку `409 Conflict` в логах (часто возникает при использовании нескольких плагинов или облачных сервисов), нажмите **Сбросить webhook** в настройках. Бот автоматически перезапустится.

**Начните использовать Telegram как свой личный, сверхэффективный инструмент для захвата информации в Obsidian уже сегодня!**

---

### Канал автора

Подписывайтесь на канал автора в Telegram для новостей и обновлений: [https://t.me/brainwartg](https://t.me/brainwartg)
